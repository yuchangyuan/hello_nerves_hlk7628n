# HelloNervesHlk7628n

An empty project to demo the the use of `nerves_system_hlk7628n`, below files
are different from the default content generated by `mix nerves.new`:

  * mix.exs
  * config/config.exs
  * config/target.exs

## Targets

This project only support `MIX_TARGET=hlk7628n`

## Getting Started

To start your Nerves app:
  * `export MIX_TARGET=hlk7628n` or prefix every command with
    `MIX_TARGET=hlk7628n`.
  * Install dependencies with `mix deps.get`
  * Create firmware image with `mix firmware.image`
  * Flash the image via tftp according to [OpenWrt commit](https://git.openwrt.org/?p=openwrt/openwrt.git;a=commit;h=671c9d16e382bcace441d8ad07816f8ceeed3612)
  * Setup uboot env for next upgrade via `nerves_ssh_fwup`, run below command in `iex` console:
    * `cmd "fw_setenv nerves_fw_active a"`
    * `cmd "fw_setenv nerves_fw_devpath /dev/mtdblock1"`
    * `cmd "fw_setenv a.nerves_fw_platform hlk7628n"`
    * `cmd "fw_setenv a.nerves_fw_architecture mips"`
  * Reboot to make `NervesMOTD` work

## Learn more

  * Official docs: https://hexdocs.pm/nerves/getting-started.html
  * Official website: https://nerves-project.org/
  * Forum: https://elixirforum.com/c/nerves-forum
  * Discussion Slack elixir-lang #nerves ([Invite](https://elixir-slackin.herokuapp.com/))
  * Source: https://github.com/nerves-project/nerves
